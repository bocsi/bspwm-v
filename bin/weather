#!/bin/bash
declare -i id=5337561 # your city id. To get it: got to https://openweathermap.org/, search for your city, the last 7 digits in the link will be your city id.
api_key="c2a1840125d3bf08d86133c6ddbe0b3c" # api key from https://openweathermap.org/, you get it for free when you sign up.

icon_id=$(curl -sf "https://api.openweathermap.org/data/2.5/weather?id=$id&appid=$api_key&units=imperial" | jq -r ."weather[0]|.icon")
temp=$(curl -sf "https://api.openweathermap.org/data/2.5/weather?id=$id&appid=$api_key&units=imperial" | jq ."main|.temp" | awk '{print int($1+0.5)}')
case $icon_id in
	01d) icon=" ";;
	01n) icon=" ";;
	02d) icon=" ";;
	02n) icon=" ";;
	03n) icon=" ";;
	03d) icon=" ";;
	04n) icon=" ";;
	04d) icon=" ";;
	09d) icon=" ";;
	09n) icon=" ";;
	10d) icon=" ";;
	10n) icon=" ";;
	11d) icon=" ";;
	11n) icon=" ";;
	13d) icon=" ";;
	13n) icon=" ";;
	50d) icon=" ";;
	50n) icon=" ";;
	*) icon="$icon_id";;
esac

get_weather()
{    echo "$icon$tempF"
}
get_weather

